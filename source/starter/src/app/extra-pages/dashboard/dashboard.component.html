<section class="main-content">
  <ul class="breadcrumb breadcrumb-style">
    <li class="breadcrumb-item">
      <h5 class="page-title m-b-0">Dashboard</h5>
    </li>
    <li class="breadcrumb-item bcrumb-1">
      <a routerLink="/dashboard/main">
        <i class="fas fa-home font-17"></i>
      </a>
    </li>
    <li class="breadcrumb-item">Dashboard</li>
  </ul>
  <div class="section-body">
    <div class="row mb-3">
      <div class="col-md-6">
        <h4>Most Visited Site</h4>
        <div *ngIf="mostVisitedSite" class="card">
          <div class="card-header">
            <h4>{{ mostVisitedSite.siteId.name }}</h4>
          </div>
          <div class="card-body">
            <p>{{ mostVisitedSite.siteId.description }}</p>
            <p>Address: {{ mostVisitedSite.siteId.address }}</p>
            <p>Category: {{ mostVisitedSite.siteId.category }}</p>
            <p>Visits: {{ mostVisitedSite.viewCount }}</p>
            <div class="photos">
              <a *ngFor="let photo of mostVisitedSite.siteId.photos" [href]="'http://localhost:5001/' + photo" data-lightbox="mostVisitedSite.siteId.name" [attr.data-title]="mostVisitedSite.siteId.name">
                <img [src]="'http://localhost:5001/' + photo" alt="{{ mostVisitedSite.siteId.name }}" class="img-fluid" style="width: 200px; height: auto;">
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <h4>Most Rated Site</h4>
        <div *ngIf="mostRatedSite" class="card">
          <div class="card-header">
            <h4>{{ mostRatedSite.name }}</h4>
          </div>
          <div class="card-body">
            <p>{{ mostRatedSite.description }}</p>
            <p>Address: {{ mostRatedSite.address }}</p>
            <p>Category: {{ mostRatedSite.category }}</p>
            <p>Average Rating: {{ mostRatedSite.average_rating }}</p>
            <div class="photos">
              <a *ngFor="let photo of mostRatedSite.photos" [href]="'http://localhost:5001/' + photo" data-lightbox="mostRatedSite.name" [attr.data-title]="mostRatedSite.name">
                <img [src]="'http://localhost:5001/' + photo" alt="{{ mostRatedSite.name }}" class="img-fluid" style="width: 200px; height: auto;">
              </a>
            </div>
          </div>
          </div>
          <div class="col-md-12">
            <h4>Site Reviews Sorted by Comments</h4>
            <div style="display: block;">
              <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions" [legend]="barChartLegend" [plugins]="barChartPlugins" [type]="barChartType"></canvas>
            </div>
          </div>
      </div>
    <div class="row mb-3" style="margin-top: -70px;">
      <div class="col-md-6"style="margin-top: -310px;">
        <h4>Site Rankings</h4>
        <div *ngFor="let site of siteRankings" class="card">
          <div class="card-header">
            <h4>{{ site.siteId.name }}</h4>
          </div>
          <div class="card-body">
            <p>{{ site.siteId.description }}</p>
            <p>Address: {{ site.siteId.address }}</p>
            <p>Category: {{ site.siteId.category }}</p>
            <p>Visits: {{ site.viewCount }}</p>
            <div class="photos">
              <a *ngFor="let photo of site.siteId.photos" [href]="'http://localhost:5001/' + photo" data-lightbox="site.siteId.name" [attr.data-title]="site.siteId.name">
                <img [src]="'http://localhost:5001/' + photo" alt="{{ site.siteId.name }}" class="img-fluid" style="width: 200px; height: auto;">
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
  </div>
  

</section>
